<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.4.0.final using JasperReports Library version 6.4.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Simple_Blue" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="8a054325-6c0f-4921-a220-f0a1f260d0df">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ROV Data Adapter "/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="124"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="870"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1" value="629"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2" value="361"/>
	<style name="Row" mode="Transparent" fontName="Times New Roman" pdfFontName="Times-Roman">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style mode="Opaque" backcolor="#F0EFEF"/>
		</conditionalStyle>
	</style>
	<parameter name="DATA_INICIAL" class="java.sql.Date"/>
	<parameter name="DATA_FINAL" class="java.sql.Date"/>
	<parameter name="INSTRUCTOR" class="java.lang.String"/>
	<parameter name="LOGOPLA" class="java.io.InputStream"/>
	<queryString language="SQL">
		<![CDATA[SELECT rovdigital.categoryaircraft.category,
	rovdigital.aircraft.`icaoRegistry`,
	rovdigital.logbookrecord.date,
	rovdigital.logbookrecord.`totalTime`,
	p1.name AS name1,
	p1.student AS student1,
	p1.`invaFliesAtSchool` AS flies1,
	p2.name AS name2,
	p2.student AS student2,
	p2.`invaFliesAtSchool` AS flies2,
	rovdigital.logbookrecord.nat
FROM rovdigital.logbookrecord
	INNER JOIN rovdigital.aircraft ON 
	 rovdigital.logbookrecord.aircraft_codigo = rovdigital.aircraft.codigo 
	INNER JOIN rovdigital.categoryaircraft ON 
	 rovdigital.aircraft.category_codigo = rovdigital.categoryaircraft.codigo 
	INNER JOIN rovdigital.pilot AS p1 ON 
	 rovdigital.logbookrecord.pilot1_codigo = p1.codigo 
	LEFT JOIN rovdigital.pilot AS p2 ON 
	 rovdigital.logbookrecord.pilot2_codigo = p2.codigo 
WHERE 
	 rovdigital.logbookrecord.date BETWEEN $P{DATA_INICIAL} AND $P{DATA_FINAL} 
	 AND ( p1.name LIKE $P{INSTRUCTOR}  OR p2.name LIKE $P{INSTRUCTOR})]]>
	</queryString>
	<field name="category" class="java.lang.String"/>
	<field name="icaoRegistry" class="java.lang.String"/>
	<field name="date" class="java.sql.Date"/>
	<field name="totalTime" class="java.math.BigDecimal"/>
	<field name="name1" class="java.lang.String"/>
	<field name="student1" class="java.lang.Boolean"/>
	<field name="flies1" class="java.lang.Boolean"/>
	<field name="name2" class="java.lang.String"/>
	<field name="student2" class="java.lang.Boolean"/>
	<field name="flies2" class="java.lang.Boolean"/>
	<field name="nat" class="java.lang.String"/>
	<sortField name="category"/>
	<variable name="SOMA_HORAS" class="java.math.BigDecimal" resetType="Group" resetGroup="Group2" calculation="Sum">
		<variableExpression><![CDATA[$F{totalTime}]]></variableExpression>
	</variable>
	<variable name="SOMA_HORAS_TOTAIS" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{totalTime}]]></variableExpression>
	</variable>
	<group name="Group1" isReprintHeaderOnEachPage="true" minHeightToStartNewPage="10" keepTogether="true">
		<groupHeader>
			<band height="21">
				<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
				<textField>
					<reportElement mode="Opaque" x="2" y="0" width="474" height="21" forecolor="#006699" backcolor="#E6E6E6" uuid="76891975-e584-4289-9a9e-211e74ff43b8"/>
					<box leftPadding="2" bottomPadding="1" rightPadding="0">
						<topPen lineWidth="2.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Bottom">
						<font size="14" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[(EQUALS($F{student1},false))?($F{name1}):($F{name2})]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="18">
				<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				<textField>
					<reportElement x="322" y="0" width="45" height="14" uuid="d9615f6a-53cc-4ffc-a3e9-dd66485e78c8">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{SOMA_HORAS_TOTAIS}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="220" y="0" width="102" height="14" uuid="d73ba289-2793-4b90-b243-a94fd32ef726">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[TOTAL GERAL:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<group name="Group2">
		<groupExpression><![CDATA[$F{category}]]></groupExpression>
		<groupHeader>
			<band height="16">
				<textField>
					<reportElement x="80" y="0" width="100" height="16" uuid="6454a287-7331-450a-a948-88bbf34b9c36">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					</reportElement>
					<box leftPadding="2"/>
					<textElement verticalAlignment="Justified">
						<font size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{category}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="14">
				<textField>
					<reportElement isPrintRepeatedValues="false" x="322" y="0" width="45" height="14" uuid="be58ffcc-5dc4-4af2-aea6-6c78559ded86">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{SOMA_HORAS}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="270" y="0" width="52" height="14" uuid="226bbb68-c4cf-4632-9bf5-7c0608bb0be5">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[TOTAL:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="72">
			<frame>
				<reportElement mode="Opaque" x="0" y="0" width="555" height="72" backcolor="#CCE7FF" uuid="8c69f616-d25f-4b7c-9151-760421588b28">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
				</reportElement>
				<staticText>
					<reportElement x="140" y="20" width="414" height="20" uuid="ea611dbc-3e30-4371-86bd-6c1db3fb33e0"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="14" isBold="true"/>
					</textElement>
					<text><![CDATA[RELATÓRIO]]></text>
				</staticText>
				<staticText>
					<reportElement x="140" y="40" width="415" height="20" uuid="d34ba8fe-5ffb-407e-893c-3fad717e25c9"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="14" isBold="false"/>
					</textElement>
					<text><![CDATA[Por Instrutor]]></text>
				</staticText>
				<image scaleImage="RetainShape" onErrorType="Blank">
					<reportElement x="0" y="0" width="150" height="72" uuid="a9669efa-1282-4b8e-a63c-b1a5b65f0e56"/>
					<imageExpression><![CDATA[$P{LOGOPLA}]]></imageExpression>
				</image>
			</frame>
		</band>
	</title>
	<pageHeader>
		<band height="17"/>
	</pageHeader>
	<columnHeader>
		<band height="20">
			<staticText>
				<reportElement mode="Opaque" x="232" y="0" width="90" height="20" forecolor="#006699" backcolor="#FFFFFF" uuid="b946d19d-6e26-4388-882a-043694743494"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[DATA]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="368" y="0" width="40" height="20" forecolor="#006699" backcolor="#FFFFFF" uuid="f50a3a43-44b3-4466-906f-de1741e86aae"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[NAT]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="322" y="0" width="46" height="20" forecolor="#006699" backcolor="#FFFFFF" uuid="4aa470d0-bc72-45b4-b95a-3f85ecea3dfd">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Bottom">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[TEMPO]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="140" y="0" width="92" height="20" forecolor="#006699" backcolor="#FFFFFF" uuid="69355d2e-448e-45c8-bfe6-ee22fdbc1757"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[AVIÃO]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="408" y="0" width="68" height="20" forecolor="#006699" backcolor="#FFFFFF" uuid="727dc366-0318-41a5-8b3f-499d2c587efa"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[ALUNO]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="13">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<frame>
				<reportElement style="Row" x="140" y="0" width="336" height="13" uuid="1b93bbf3-d350-43e1-a122-bb7e7da8a5e0">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textField>
					<reportElement x="0" y="0" width="92" height="13" uuid="624f0406-7b72-4794-b083-adde218948f8">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom"/>
					<textFieldExpression><![CDATA[$F{icaoRegistry}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy">
					<reportElement x="92" y="0" width="90" height="13" uuid="a0c7107a-eb4c-427a-b3b6-a0476d264ad4">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{date}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="182" y="0" width="45" height="13" uuid="31dea74a-a888-4803-84ee-0d9fce08beb2">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{totalTime}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="228" y="0" width="39" height="13" uuid="bb4ab589-2260-42c0-81d2-6c0fc3e8d970"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nat}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="267" y="0" width="68" height="13" uuid="e0e98d81-0932-41a6-a939-373e7d92772e"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Bottom">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[(EQUALS($F{student1},true))?($F{name1}):(EQUALS($F{name2},null)?"***":$F{name2})]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="30">
			<textField>
				<reportElement mode="Opaque" x="0" y="4" width="515" height="13" backcolor="#E6E6E6" uuid="e60bb1ce-4292-4bcd-8825-27a5ebdc1ac6"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement mode="Opaque" x="515" y="4" width="40" height="13" backcolor="#E6E6E6" uuid="8c0a3e21-d022-470f-aa24-ba1bda03c564"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE, dd MMMMM yyyy">
				<reportElement x="0" y="4" width="270" height="13" uuid="78b7128c-66a7-4502-9ec1-a8547c1ae0cb"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
