<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<title>ROVDigital PLA</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!--<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
	<h:outputStylesheet library="css" name="estilos.css" />
	<link rel="stylesheet" type="text/css"
		href="css/TitleAndMenu.css?version=1" />
</h:head>
<h:body>
	<p:growl id="mensagem" />

	<div id="geral">
		<!-- Div com a logomarca -->
		<div id="logo">
			<p:graphicImage library="img" name="logopla.png" alt="PLA"
				styleClass="logopla" />
		</div>
		<!-- Div com o nome do aplicativo-->
		<div id="topo">
			<p>
				<strong><font size="5">ROVDigital</font></strong><br />Registro de
				Operações de Voo
			</p>
		</div>
		<div id="menu">
			<h:form>
				<br />
				<p align="center" style="margin: 0;">
					<font face="Arial" size="4"><strong>MENU</strong></font>
				</p>
				<p:menu class="ui-menu" toggleable="true">

					<p:submenu class="ui-menubar" label="Operações">
						<p:menuitem class="ui-menu-child" value="Voos"
							url="/pages/Flights.xhtml" />
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('alerta').show();" value="Aulas" />
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('alerta').show();" value="Manutenções" />
					</p:submenu>

					<p:submenu class="ui-menubar" label="Cadastramentos">
						<p:menuitem class="ui-menu-child" value="Pilotos"
							url="/pages/Pilots.xhtml" />
						<p:menuitem class="ui-menu-child" value="Aeronaves"
							url="/pages/Aircrafts.xhtml" />
						<p:menuitem class="ui-menu-child" value="Diários"
							url="/pages/Logbooks.xhtml" />
						<p:menuitem class="ui-menu-child" value="Aeroportos"
							url="/pages/Airports.xhtml" />
					</p:submenu>
					<p:submenu class="ui-menubar" label="Finanças">
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('alerta').show();" value="Pacote de horas" />
					</p:submenu>

					<p:submenu class="ui-menubar" label="Relatórios">
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('dialogoRelatorioAluno').show();"
							value="Por Aluno" />
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('dialogoRelatorioInstrutor').show();"
							value="Por Instrutor">
							<f:actionListener
								type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
						</p:menuitem>
						<p:menuitem class="ui-menu-child"
							oncomplete="PF('dialogoRelatorioAviao').show();"
							value="Por Avião">
							<f:actionListener
								type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" />
						</p:menuitem>
					</p:submenu>

					<p:submenu class="ui-menubar" label="Configurações">
						<p:menuitem class="ui-menu-child" value="Usuários"
							url="/pages/Users.xhtml" />
					</p:submenu>

				</p:menu>
			</h:form>

			<!-- Diálogo para gerar relatório por Aluno -->
			<p:dialog header="Relatório Por Aluno"
				widgetVar="dialogoRelatorioAluno" draggable="false"
				resizable="false" modal="true" closable="false">
				<h:form id="formRelatorioAluno">

					<h:panelGrid id="parametros" columns="2">

						<p:outputLabel for="aluno" value="Aluno:" />
						<p:selectOneMenu id="aluno" filter="true"
							value="#{studentReportBean.pilot}"
							converter="omnifaces.SelectItemsConverter" required="true"
							requiredMessage="O campo ALUNO é obrigatório">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um Aluno" />
							<f:selectItems value="#{studentReportBean.pilots}" var="pilot"
								itemValue="#{pilot}" itemLabel="#{pilot.name}" />
						</p:selectOneMenu>

						<p:outputLabel for="datainicial" value="Data Inicial:" />
						<p:calendar id="datainicial"
							value="#{studentReportBean.dataInicial}" required="true"
							requiredMessage="O campo DATA INICIAL é obrigatório" />

						<p:outputLabel for="datafinal" value="Data Final:" />
						<p:calendar id="datafinal" value="#{studentReportBean.dataFinal}"
							required="true"
							requiredMessage="O campo DATA FINAL é obrigatório" />

						<p:commandButton value="Gerar Relatório"
							actionListener="#{studentReportBean.gerarRelatorio}"
							update=":mensagem :formRelatorioInstrutor:parametros" />

						<p:commandButton value="Fechar"
							oncomplete="PF('dialogoRelatorioAluno').hide();"
							update=":formRelatorioAluno:parametros" />

					</h:panelGrid>
				</h:form>
			</p:dialog>

			<!-- Diálogo para gerar relatório por Instrutor -->
			<p:dialog header="Relatório Por Instrutor"
				widgetVar="dialogoRelatorioInstrutor" draggable="false"
				resizable="false" modal="true" closable="false">
				<h:form id="formRelatorioInstrutor">

					<h:panelGrid id="parametros" columns="2">

						<p:outputLabel for="inva" value="Instrutor:" />
						<p:selectOneMenu id="inva" filter="true"
							value="#{instructorReportBean.pilot}"
							converter="omnifaces.SelectItemsConverter" required="true"
							requiredMessage="O campo INSTRUTOR é obrigatório">
							<f:selectItem noSelectionOption="true"
								itemLabel="Selecione um Instrutor" />
							<f:selectItems value="#{instructorReportBean.pilots}" var="pilot"
								itemValue="#{pilot}" itemLabel="#{pilot.name}" />
						</p:selectOneMenu>

						<p:outputLabel for="datainicial" value="Data Inicial:" />
						<p:calendar id="datainicial"
							value="#{instructorReportBean.dataInicial}" required="true"
							requiredMessage="O campo DATA INICIAL é obrigatório" />

						<p:outputLabel for="datafinal" value="Data Final:" />
						<p:calendar id="datafinal"
							value="#{instructorReportBean.dataFinal}" required="true"
							requiredMessage="O campo DATA FINAL é obrigatório" />

						<p:commandButton value="Gerar Relatório"
							actionListener="#{instructorReportBean.gerarRelatorio}"
							update=":mensagem :formRelatorioInstrutor:parametros" />

						<p:commandButton value="Fechar"
							oncomplete="PF('dialogoRelatorioInstrutor').hide();"
							update=":formRelatorioInstrutor:parametros" />

					</h:panelGrid>
				</h:form>
			</p:dialog>

			<!-- Diálogo para gerar relatório por Avião -->
			<p:dialog header="Relatório Por Avião"
				widgetVar="dialogoRelatorioAviao" draggable="false"
				resizable="false" modal="true" closable="false">
				<h:form id="formRelatorioAviao">

					<h:panelGrid id="parametros" columns="2">

						<p:outputLabel for="aviao" value="Avião:" />
						<p:selectOneMenu id="aviao" filter="true"
							value="#{aircraftReportBean.aircraft}"
							converter="omnifaces.SelectItemsConverter" required="falso"
							requiredMessage="O campo AVIÃO é obrigatório">
							<f:selectItem noSelectionOption="false" itemValue=""
								itemLabel="Todos" />
							<f:selectItems value="#{aircraftReportBean.aircrafts}"
								var="aircraft" itemValue="#{aircraft}"
								itemLabel="#{aircraft.icaoRegistry}" />
						</p:selectOneMenu>

						<p:outputLabel for="datainicial" value="Data Inicial:" />
						<p:calendar id="datainicial"
							value="#{aircraftReportBean.dataInicial}" required="false"
							requiredMessage="O campo DATA INICIAL é obrigatório" />

						<p:outputLabel for="datafinal" value="Data Final:" />
						<p:calendar id="datafinal" value="#{aircraftReportBean.dataFinal}"
							required="false"
							requiredMessage="O campo DATA FINAL é obrigatório" />

						<p:commandButton value="Gerar Relatório"
							actionListener="#{aircraftReportBean.gerarRelatorio}"
							update=":mensagem :formRelatorioAviao:parametros">

						</p:commandButton>
						<p:commandButton value="Fechar"
							oncomplete="PF('dialogoRelatorioAviao').hide();"
							update=":formRelatorioAviao:parametros">

						</p:commandButton>
					</h:panelGrid>
				</h:form>
			</p:dialog>

			<!-- Alerta -->
			<p:dialog header="Alerta!!" widgetVar="alerta" draggable="false"
				resizable="false" modal="true" closable="true">
				<h:form id="formAlerta">
					<h:panelGrid>
						<p:outputLabel
							value="Esta funcionalidade será implementada na Versão 2" />
					</h:panelGrid>
				</h:form>
			</p:dialog>

		</div>
		<div id="conteudo">
			<ui:insert name="conteudo" />
		</div>
	</div>
</h:body>
</html>